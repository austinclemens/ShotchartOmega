<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
	<script src="lib/kinetic_v5.1.0.min.js"></script>
	<script src="lib/jquery.csv-0.71.min.js"></script>
</head>
<style>body
{
	margin: 0;
	padding: 0;
} 
</style>
<body>

<div id="container"></div>

<script defer>
var shapes=[]
var group = new Kinetic.Group()
var linecounter=1


var width = window.innerWidth-30 || 900

var stage = new Kinetic.Stage({
  container: 'container',
  width: width,
  height: (.775)*width,
  scaleX:width/900,
  scaleY:width/900,
});

var layer = new Kinetic.Layer({
	hitGraphEnabled: true,
	transformsEnabled: 'none',
	listening: true,
});

var circlayer = new Kinetic.Layer({
	hitGraphEnabled: true,
	transformsEnabled: 'none',
})

var arclayer = new Kinetic.Layer({
	hitGraphEnabled: false,
	transformsEnabled: 'none',
	listening: false,
});

var court = new Kinetic.Layer();

stage.add(circlayer)

nba_court_base()

layer.on('click',function(evt){
	var shape=evt.target;

	var circle = new Kinetic.Circle({
		x: shape.attrs.xcenter,
		y: shape.attrs.ycenter,
		radius: 0,
		fillAlpha: .6,
		fillRed: 30,
		fillBlue: 30,
		fillGreen: 30,
		stroke: 'white',
		strokeWidth:2,
	});
	group.add(circle)
	circlayer.add(group)

	var tween = new Kinetic.Tween({
		node: circle, 
		duration: 1,
		easing: Kinetic.Easings.BackEaseOut,
		radius: 90
	});
	tween.play()

	setTimeout(function(){
		var text=new Kinetic.Text({fontStyle:'bold',x:shape.attrs.xcenter-24,y:shape.attrs.ycenter-65,fontSize:30,fontFamily:'Helvetica',fill:shape.attrs.fill,stroke:"#ffffff",strokeWidth:1,text: Math.round(shape.attrs.fg*100)+"%"})
		group.add(text)
		var text=new Kinetic.Text({align:'center',fontStyle:'bold',x:shape.attrs.xcenter-41,y:shape.attrs.ycenter-40,fontSize:17,fontFamily:'Helvetica',fill:'#ffffff',text: "shots made"})
		group.add(text)

		if (Math.round(shape.attrs.shotvol*100)>9) {
			var text=new Kinetic.Text({fontStyle:'bold',x:shape.attrs.xcenter-24,y:shape.attrs.ycenter+15,fontSize:30,fontFamily:'Helvetica',fill:shape.attrs.fill,stroke:"#ffffff",strokeWidth:1,text: Math.round(shape.attrs.shotvol*100)+"%"})
			group.add(text)
		}
		if (Math.round(shape.attrs.shotvol*100)<10) {
			var text=new Kinetic.Text({fontStyle:'bold',x:shape.attrs.xcenter-16,y:shape.attrs.ycenter+15,fontSize:30,fontFamily:'Helvetica',fill:shape.attrs.fill,stroke:"#ffffff",strokeWidth:1,text: Math.round(shape.attrs.shotvol*100)+"%"})
			group.add(text)
		}

		var text=new Kinetic.Text({fontStyle:'bold',x:shape.attrs.xcenter-45,y:shape.attrs.ycenter+40,fontSize:17,fontFamily:'Helvetica',fill:'#ffffff',text: "shot volume"})
		group.add(text)

		var circle = new Kinetic.Circle({
			x: shape.attrs.xcenter,
			y: shape.attrs.ycenter,
			radius: 2,
			opacity: 1,
			stroke: 'white',
			strokeWidth:1,
			fill: '#7d7d7d'
		})
		group.add(circle)

		var line=new Kinetic.Line({strokeWidth:1,dash: [5, 5],points:[shape.attrs.xcenter+3,shape.attrs.ycenter,shape.attrs.xcenter+90,shape.attrs.ycenter],stroke:'white'})
		group.add(line)

		var text=new Kinetic.Text({x:shape.attrs.xcenter+35,y:shape.attrs.ycenter-10,fontSize:9,fontFamily:'Helvetica',fill:'#ffffff',text: "5 feet"})
		group.add(text)
	},500)

	stage.add(circlayer)

})

// circlayer.on('click',function(evt){
// 		group.removeChildren()
// 		circlayer.add(group)
// })



window.onload=function() {
    load_pshotnew()
}

function get_param(name) {
    name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
	var regexS = "[\\?&]"+name+"=([^&#]*)";
	var regex = new RegExp( regexS );
	var results = regex.exec( window.location.href );
	if( results == null )
		return null;
	else
		return results[1];
}

function load_pshot(year,player,efficient,dleague) {
	if (dleague=="NBADEV") {
		var url="dleague_years/"+year+"/pshot_"+player+".csv"
	} 
	else if (dleague=="NCAA") {
		var url="NCAA/"+year+"/pshot_"+player+".csv"
	}
	else {
		var url="pshot_years/"+year+"/pshot_"+player+".csv"
	}
	$.ajax({
    type: "GET",
    url: url,
    dataType: "text",
    success: function(data) { 
        var shot_data = $.csv.toArrays(data);
        if (year==1996 && linecounter==0) {
        	redraw_arc(1)
        }
        if (year!=1996 && linecounter==1) {
        	redraw_arc(0)
        }
        if (dleague=="NCAA") {
        	redraw_arc(2)
        }
        circlayer.removeChildren()
        stage.add(circlayer)
        drawcourt_pshot(shot_data,year,player,efficient,dleague)
    	}
	});
}

function load_pshotnew() {
	$.ajax({
	url: "http://www.austinclemens.com/cgi-bin/post.py",
	type: "post",
	datatype: "html",
	data:   {
		player1: "Anthony Morrow",
		player2: "Russell Westbrook",
		player3: "Kendrick Perkins",
		player4: "Kevin Durant",
		player5: "Serge Ibaka",
		quarter: "all",
		type: "regular season",
		year: "2013",
		efficiency: "0"
		},
	success: function(response){
		//console.log("HELLO")
		//var shot_data = $.csv.toArrays(response[0]);
		//console.log(shot_data)
		var shot_data = eval("(" + response + ")");
		redraw_arc(0)
		circlayer.removeChildren()
		stage.add(circlayer)
		drawcourt_pshot(shot_data,2013,"Kevin Durant","basic",0)
	}
	});
}

function drawcourt_pshot(shot_data,year,player,efficient,dleague) {
	
	layer.removeChildren()

	var max=shot_data[0][2]
	var min=shot_data[shot_data.length-1][2]
	var box_size=18

	stage.add(layer)

	for(var n = 0; n < 200; n++) {
		if (shot_data[n][2]>0 && shot_data[n][6]>0.005){
			var X = shot_data[n][1]*1.8+450+9 ;
  			var Y = shot_data[n][0]*1.8+144.5+9 ;

  			if (dleague=="NCAA") {
				var X = shot_data[n][1]*1.8+450;
  				var Y = shot_data[n][0]*1.8+94.5;
  			}

  			if(efficient=="efficiency") {
  				fillcolor=choosecolor_pps(shot_data[n][7])
  			}
  			if(efficient=="basic") {
  				fillcolor=choosecolor_pshot(shot_data[n][3])
  			}

			var box = new Kinetic.Rect({
				cornerRadius: 3,
				x: X,
				y: Y,
				xcenter: X,
				ycenter: Y,
				shadowColor: fillcolor,
				shadowBlur: 80,
				shadowOpacity: 1,
				shadowOffset: {x:3,y:3},
				width: 0,
				height: 0,
				shotvol: shot_data[n][8],
				fg: shot_data[n][4],
				fill: fillcolor,
			});
		}
		layer.add(box);
	}

	var shapes=layer.getChildren()

	for (var n=0; n < shapes.length; n++) {
		var rect=shapes[n]
		var maxwidth=choosesize(shot_data[n][2],min,max,20)

		var tween = new Kinetic.Tween({
			node: rect, 
			duration: 2,
			x:rect.attrs.x-(maxwidth/2),
			y:rect.attrs.y-(maxwidth/2),
			easing: Kinetic.Easings.ElasticEaseOut,
			width:maxwidth,
			height:maxwidth,
		});
		tween.play()
	}

	// if (efficient=="basic") {
	// 	var text=new Kinetic.Text({x:560,y:631,fontSize:12,fontFamily:'Helvetica',fill:'#000000',align:'right',text:'< Average FG%'})
	// 	layer.add(text)
	// }
	// if (efficient=="efficiency") {
	// 	var text=new Kinetic.Text({x:560,y:631,fontSize:12,fontFamily:'Helvetica',fill:'#000000',align:'right',text:'> Average PPS'})
	// 	layer.add(text)
	// }
	// if (efficient=="basic") {
	// 	var text=new Kinetic.Text({x:255,y:632,fontSize:12,fontFamily:'Helvetica',fill:'#000000',align:'right',text:'> Average FG%'})
	// 	layer.add(text)
	// }
	// if (efficient=="efficiency") {
	// 	var text=new Kinetic.Text({x:255,y:632,fontSize:12,fontFamily:'Helvetica',fill:'#000000',align:'right',text:'> Average PPS'})
	// 	layer.add(text)
	// }

	// year2=parseInt(year)+1
	// var text=new Kinetic.Text({x:9,y:587,fontSize:30,fontFamily:'Arial',fill:'#ffffff',align:'left',text:player.replace(/%20/g," ")+" "+year+"-"+year2+", 4th quarters"})
	// layer.add(text)

	setTimeout(function(){shadow_layer(shot_data,min,max,efficient,dleague)},1200)
}

function shadow_layer(shot_data,min,max,efficient,dleague) {
	for(var n = 0; n < 200; n++) {
		if (shot_data[n][2]>0 && shot_data[n][6]>0.005){
			var X = shot_data[n][1]*1.8+450+((18-choosesize(shot_data[n][2],min,max,20))/2) ;
  			var Y = shot_data[n][0]*1.8+144.5+((18-choosesize(shot_data[n][2],min,max,20))/2) ;
  			var Xcenter = shot_data[n][1]*1.8+450+9
  			var Ycenter = shot_data[n][0]*1.8+94.5+9

  			if(efficient=="efficiency") {
  				fillcolor=choosecolor_pps(shot_data[n][7])
  			}
  			if(efficient=="basic") {
  				fillcolor=choosecolor_pshot(shot_data[n][3])
  			}

  			if (dleague=="NCAA") {
				var X = shot_data[n][1]*1.8+441+((18-choosesize(shot_data[n][2],min,max,20))/2);
  				var Y = shot_data[n][0]*1.8+85.5+((18-choosesize(shot_data[n][2],min,max,20))/2);
  				var Xcenter = shot_data[n][1]*1.8+450
  				var Ycenter = shot_data[n][0]*1.8+94.5
  			}

			var box = new Kinetic.Rect({
				cornerRadius: 3,
				x: X,
				y: Y,
				xcenter: Xcenter,
				ycenter: Ycenter,
				width: choosesize(shot_data[n][2],min,max,20),
				height: choosesize(shot_data[n][2],min,max,20),
				fill: fillcolor,
				shotvol: shot_data[n][8],
				fg: shot_data[n][4],
			});
		}
		layer.add(box);
	}
}


function choosesize(shots,min,max,side_length) {
	if (shots==0) {
		return 0
	}
	if (min==0) {
		var min=1
	}
	var shots=Math.log(shots)
	var min=Math.log(min)
	var max=Math.log(max)
	var fraction=(shots-min)/(max-min)
	var minsize=45
	var differential=(Math.pow(side_length,2)-minsize)
	var blah=Math.sqrt(fraction*differential+minsize)
	return Math.round(blah);
}

function choosecolor_pshot(coef) {
	if (coef>=.15) return '#a50026';
	if (coef>=.12 && coef<.15) return '#d73027';
	if (coef>=.09 && coef<.12) return '#f46d43';
	if (coef>=.06 && coef<.09) return '#fdae61';
	if (coef>=.03 && coef<.06) return '#fee090';
	if (coef>=-.03 && coef<.03) return '#ffffbf';
	if (coef>=-.06 && coef<-.03) return '#e0f3f8';
	if (coef>=-.09 && coef<-.06) return '#abd9e9';
	if (coef>=-.12 && coef<-.09) return '#74add1';
	if (coef>=-.15 && coef<-.12) return '#4575b4';
	if (coef<=-.15) return '#313695';
}

function choosecolor_pps(coef) {
	if (coef>=.40) return '#ff0000';
	if (coef>=.35 && coef<.40) return '#ff1e00';
	if (coef>=.30 && coef<.35) return '#ff3c00';
	if (coef>=.25 && coef<.30) return '#ff5a00';
	if (coef>=.20 && coef<.25) return '#ff7800';
	if (coef>=.15 && coef<.20) return '#ff9600';
	if (coef>=.10 && coef<.15) return '#ffb400';
	if (coef>=.05 && coef<.10) return '#ffd200';
	if (coef>=.00 && coef<.05) return '#ffffbf';
	if (coef>=-.05 && coef<.00) return '#ffffbf';
	if (coef>=-.10 && coef<-.05) return '#00d2ff';
	if (coef>=-.15 && coef<-.10) return '#00b4ff';
	if (coef>=-.20 && coef<-.15) return '#0096ff';
	if (coef>=-.25 && coef<-.20) return '#0078ff';
	if (coef>=-.30 && coef<-.25) return '#005aff';
	if (coef>=-.35 && coef<-.30) return '#003cff';
	if (coef<-.35) return '#001eff';
}

function redraw_arc(line) {

	arclayer.removeChildren()

	if (line==1) {
		linecounter=1
		var arc=new Kinetic.Arc({strokeWidth:3.6,stroke:'white',x:450,y:144.5,innerRadius:396,outerRadius:396,angle:180})
		arclayer.add(arc)
		var line=new Kinetic.Line({strokeWidth:3.6,points:[54,50,54,145.4],stroke:'white'})
		arclayer.add(line)
		var line=new Kinetic.Line({strokeWidth:3.6,points:[846,50,846,145.4],stroke:'white'})
		arclayer.add(line)
	}

	if (line==0) {
		linecounter=0
		var arc=new Kinetic.Arc({strokeWidth:2,stroke:'white',x:450,y:144.5,innerRadius:427.5,outerRadius:427.5,angle:136,rotationDeg:22,shadowColor:'#ffffff',shadowBlur:100})
		arclayer.add(arc)
		var line=new Kinetic.Line({strokeWidth:2,points:[54,50,54,305.6],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
		arclayer.add(line)
		var line=new Kinetic.Line({strokeWidth:2,points:[846,50,846,305.6],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
		arclayer.add(line)
	}

	if (line==2) {
		var arc=new Kinetic.Arc({strokeWidth:3.6,stroke:'white',x:450,y:144.5,innerRadius:373.5,outerRadius:373.5,angle:180,rotationDeg:0})
		arclayer.add(arc)
		var line=new Kinetic.Line({strokeWidth:3.6,points:[76.5,50,76.5,170],stroke:'white'})
		arclayer.add(line)
		var line=new Kinetic.Line({strokeWidth:3.6,points:[823.5,50,823.5,170],stroke:'white'})
		arclayer.add(line)
	}

	stage.add(arclayer)
}

function nba_court_base() {
	var base=new Kinetic.Rect({x:0,y:0,width:900,height:640,fill:'#909090'})
	court.add(base)
	var base=new Kinetic.Rect({x:342,y:50,width:216,height:342,fill:'#707070'})
	court.add(base)
	var base=new Kinetic.Rect({x:306,y:50,width:36,height:342,fill:'#808080'})
	court.add(base)
	var base=new Kinetic.Rect({x:558,y:50,width:36,height:342,fill:'#808080'})
	court.add(base)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,50,306,392],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[594,50,594,392],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[342,50,342,392],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[558,50,558,392],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,392,594,392],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[252,50,252,59],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[648,50,648,59],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[360,284,369,284],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[540,284,531,284],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[396,120.2,504,120.2],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[378,125.6,378,148.1],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[522,125.6,522,148.1],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,176,292.5,176],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[594,176,607.5,176],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,194,292.5,194],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[594,194,607.5,194],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,248,292.5,248],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[594,248,607.5,248],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[306,302,292.5,302],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[594,302,607.5,302],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:3.6,points:[40,50,860,50],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)

	var arc=new Kinetic.Arc({innerRadius:27,outerRadius:27,strokeWidth:2,stroke:'white',x:450,y:148.1,angle:360,rotationDeg:0,shadowColor:'#ffffff',shadowBlur:100})
	court.add(arc)
	var arc=new Kinetic.Arc({strokeWidth:2,stroke:'white',x:450,y:392,innerRadius:108,outerRadius:108,angle:180,shadowColor:'#ffffff',shadowBlur:100})
	court.add(arc)
	var arc=new Kinetic.Arc({strokeWidth:2,stroke:'white',x:450,y:148.1,innerRadius:72,outerRadius:72,angle:180,shadowColor:'#ffffff',shadowBlur:100})
	court.add(arc)
	var arc=new Kinetic.Arc({strokeWidth:2,stroke:'white',x:450,y:392,innerRadius:108,outerRadius:108,angle:180,dash:[22,22],rotationDeg:180,shadowColor:'#ffffff',shadowBlur:100})
	court.add(arc)

	var arc=new Kinetic.Arc({strokeWidth:2,stroke:'white',x:450,y:144.5,innerRadius:427.5,outerRadius:427.5,angle:136,rotationDeg:22,shadowColor:'#ffffff',shadowBlur:100})
	court.add(arc)
	var line=new Kinetic.Line({strokeWidth:2,points:[54,50,54,305.6],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)
	var line=new Kinetic.Line({strokeWidth:2,points:[846,50,846,305.6],stroke:'white',shadowColor:'#ffffff',shadowBlur:100})
	court.add(line)

	var img = new Image()
	img.src="Twitter_logo_sm.png"
	img.onload = function() {
		twit = new Kinetic.Image({
			x: 765,
        	y: 622,
        	image: img,
        	width: 17,
        	height: 14,
        	shadowBlur:70,
        	shadowColor:'#ffffff'
        });
        court.add(twit)
        court.draw()
    }
    
    var text=new Kinetic.Text({x:782,y:624,fontSize:13,fontFamily:'Helvetica',fill:'#ffffff',align:'right',text:'@AustinClemens2'})
	court.add(text)
	var text=new Kinetic.Text({x:10,y:624,fontSize:13,fontFamily:'Helvetica',fill:'#ffffff',align:'right',text:'www.nyloncalculus.com/shotchart'})
	court.add(text)

	var text=new Kinetic.Text({x:40,y:5,fontVariant:'small-caps',fontSize:17,fontFamily:'Verdana',fill:'#ffffff',align:'right',text:'Player(s)'})
	court.add(text)
	var text=new Kinetic.Text({x:350,y:5,fontVariant:'small-caps',fontSize:17,fontFamily:'Verdana',fill:'#ffffff',align:'right',text:'Details'})
	court.add(text)
	var text=new Kinetic.Text({x:700,y:5,fontVariant:'small-caps',fontSize:17,fontFamily:'Verdana',fill:'#ffffff',align:'right',text:'Key'})
	court.add(text)

	var box = new Kinetic.Rect({cornerRadius: 3,x: 700,y: 25,shadowColor: '#a50026',shadowBlur: 20,width: 18,shadowAlpha:.5,height: 18,fill: '#a50026'});
	court.add(box)
	var box = new Kinetic.Rect({cornerRadius: 3,x: 726,y: 25,shadowColor: '#fdae61',shadowBlur: 20,width: 18,shadowAlpha:.5,height: 18,fill: '#fdae61'});
	court.add(box)
	var box = new Kinetic.Rect({cornerRadius: 3,x: 752,y: 25,shadowColor: '#ffffbf',shadowBlur: 20,width: 18,shadowAlpha:.5,height: 18,fill: '#ffffbf'});
	court.add(box)
	var box = new Kinetic.Rect({cornerRadius: 3,x: 778,y: 25,shadowColor: '#abd9e9',shadowBlur: 20,width: 18,shadowAlpha:.5,height: 18,fill: '#abd9e9'});
	court.add(box)
	var box = new Kinetic.Rect({cornerRadius: 3,x: 804,y: 25,shadowColor: '#313695',shadowBlur: 20,width: 18,shadowAlpha:.5,height: 18,fill: '#313695'});
	court.add(box)


	// var rect=new Kinetic.Rect({x:0,y:621,width:900,height:49.5,fill:'#ffffff'})
	// court.add(rect)
	// var line=new Kinetic.Line({strokeWidth:1.5,points:[0,621,900,621],stroke:'black'})
	// court.add(line)

	// var box = new Kinetic.Rect({cornerRadius: 3,x: 349,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#ff0000',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 372,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#ff5a00',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 395,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#ff9600',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 418,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#ffd200',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 441,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#ffffbf',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 464,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#00f0ff',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 487,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#00b4ff',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 510,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#0078ff',
	// });
	// court.add(box)
	// var box = new Kinetic.Rect({cornerRadius: 3,x: 533,y: 628,shadowColor: '#ACACAC',shadowBlur: 20,shadowOffset: {x:5,y:5},
	// 	width: 18,height: 18,fill: '#003cff',
	// });
	// court.add(box)

	// var text=new Kinetic.Text({x:429,y:651,fontSize:12,fontFamily:'Helvetica',fill:'#000000',align:'right',text:'Average'})
	// court.add(text)

	stage.add(court)
}

</script>

</body>
</html>